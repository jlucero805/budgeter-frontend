(this["webpackJsonpbudgeter-frontend"]=this["webpackJsonpbudgeter-frontend"]||[]).push([[0],{10:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(19),a=n.n(r),s=(n(10),n(3)),u=n(0),i=Object(c.createContext)({}),o=function(){return Object(c.useContext)(i)},j=function(e){var t=e.children,n=Object(c.useState)(""),r=Object(s.a)(n,2),a=r[0],o=r[1],j=Object(c.useState)([]),d=Object(s.a)(j,2),l=d[0],b=d[1],f=Object(c.useState)(""),h=Object(s.a)(f,2),O=(h[0],h[1],Object(c.useState)(!1)),p=Object(s.a)(O,2),x=p[0],v=p[1],m=Object(c.useState)([]),g=Object(s.a)(m,2),k=g[0],y=g[1];return Object(u.jsx)(i.Provider,{value:{token:a,setToken:o,purchases:l,setPurchases:b,loggedIn:x,setLoggedIn:v,types:k,setTypes:y},children:t})},d=n(8),l=n.n(d),b="http://localhost:8080/api/v1",f=function(e){return l.a.post("".concat(b,"/auth/login"),e)},h=function(e){var t={headers:{authorization:"Bearer ".concat(e)}};return l.a.get("".concat(b,"/purchase"),t)},O=function(e,t){var n={headers:{authorization:"Bearer ".concat(e)}};return l.a.post("".concat(b,"/purchase"),t,n)},p=function(e,t){var n={headers:{authorization:"Bearer ".concat(e)}};return l.a.delete("".concat(b,"/purchase/").concat(t),n)},x=function(e){var t={headers:{authorization:"Bearer ".concat(e)}};return l.a.get("".concat(b,"/user/types"),t)},v=n(5),m=n.n(v),g=n(7),k="username",y="password",w=function(){var e=o(),t=(e.token,e.setToken),n=o(),r=(n.loggedIn,n.setLoggedIn),a=o(),i=(a.purchases,a.setPurchases),j=o(),d=(j.types,j.setTypes),l=Object(c.useState)(""),b=Object(s.a)(l,2),O=b[0],p=b[1],v=Object(c.useState)(""),w=Object(s.a)(v,2),N=w[0],S=w[1];Object(c.useEffect)((function(){var e=localStorage.getItem("token");e&&(t(e),h(e).then((function(e){i(e.data),C()})),x(e).then((function(e){d(e.data.types),r(!0)})))}),[]);var C=function(){p(""),S("")},I=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(g.a)(m.a.mark((function e(){var n,c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({username:O,password:N});case 2:if(!(n=e.sent).data.error){e.next=7;break}return console.log("error"),C(),e.abrupt("return");case 7:return t(n.data.token),localStorage.setItem("token",n.data.token),e.next=11,h(n.data.token);case 11:return c=e.sent,i(c.data),e.next=15,x(n.data.token);case 15:a=e.sent,d(a.data.types),C(),r(!0);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"window",children:Object(u.jsxs)("div",{className:"login-box",children:[Object(u.jsx)("h2",{children:"Login"}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("p",{children:k}),Object(u.jsx)("input",{className:"input-box",onChange:function(e){return function(e){p(e.target.value)}(e)},value:O})]}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("p",{children:y}),Object(u.jsx)("input",{className:"input-box",onChange:function(e){return function(e){S(e.target.value)}(e)},value:N})]}),Object(u.jsx)("button",{onClick:I,children:"login"})]})})},N=n(50),S=n(46),C=n(47),I=n(49),T=n(48),B=function(){var e=o(),t=e.token,n=(e.setToken,o()),r=n.purchases,a=n.setPurchases,i=o(),j=i.types,d=(i.setTypes,Object(c.useState)(!0)),l=Object(s.a)(d,2),b=l[0],f=l[1],h=Object(c.useState)("Materialistic Desires"),x=Object(s.a)(h,2),v=x[0],k=x[1],y=Object(c.useState)(""),w=Object(s.a)(y,2),B=w[0],P=w[1],z=Object(c.useState)(""),L=Object(s.a)(z,2),E=L[0],J=L[1],D=Object(c.useState)(!1),M=Object(s.a)(D,2),$=M[0],q=M[1],A=function(){var e=Object(g.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==v&&""!==B&&""!==E){e.next=4;break}alert("please fill out all fields"),e.next=9;break;case 4:return e.next=6,O(t,{item:B,type:v,cost:E});case 6:n=e.sent,a((function(e){return[n.data].concat(e)})),H();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f((function(e){return!1})),q((function(e){return!0}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(g.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Once you delete an item, it cannot be reversed")){e.next=4;break}return e.next=3,p(t,n);case 3:a((function(e){return e.filter((function(e){return e.id!==n}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){P(""),J("")};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"nav",children:"navbar"}),Object(u.jsxs)("h2",{children:["total: ",r.reduce((function(e,t){return e+t.cost}),0)]}),Object(u.jsx)("button",{className:"add-btn",onClick:function(){f((function(e){return!0})),q((function(e){return!1}))},children:"add"}),Object(u.jsx)("button",{onClick:F,children:"show data"}),Object(u.jsxs)("div",{className:$?"":"hide",children:[Object(u.jsxs)("h4",{className:"nopad",children:["monthly: ",r.filter((function(e){return Object(N.a)(Object(S.a)(e.date))})).reduce((function(e,t){return e+t.cost}),0)]}),Object(u.jsxs)("h4",{className:"nopad",children:["weekly: ",r.filter((function(e){return Object(C.a)(Object(S.a)(e.date))})).reduce((function(e,t){return e+t.cost}),0)]}),Object(u.jsxs)("h4",{className:"nopad",children:["daily: ",r.filter((function(e){return Object(I.a)(Object(S.a)(e.date))})).reduce((function(e,t){return e+t.cost}),0)]}),Object(u.jsxs)("h4",{className:"nopad",children:["hourly: ",r.filter((function(e){return Object(T.a)(Object(S.a)(e.date))})).reduce((function(e,t){return e+t.cost}),0)]}),Object(u.jsx)("p",{}),j.length>0?j.map((function(e){return Object(u.jsxs)("h4",{className:"nopad",children:[e," : ",r.filter((function(t){return t.type===e})).reduce((function(e,t){return e+t.cost}),0)]},e)})):null]}),b?Object(u.jsxs)("div",{className:"add-menu",children:[Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("p",{children:"item: "})," ",Object(u.jsx)("input",{onChange:function(e){return function(e){P(e.target.value)}(e)},value:B})]}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("p",{children:"cost: "})," ",Object(u.jsx)("input",{type:"number",onChange:function(e){return function(e){J(e.target.value)}(e)},value:E})]}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("p",{children:"type: "}),Object(u.jsx)("select",{onChange:function(e){return function(e){k(e.target.value)}(e)},value:v,children:j.map((function(e){return Object(u.jsx)("option",{children:e},e)}))})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:A,children:"save"})})]}):null,r.map((function(e){return Object(u.jsxs)("div",{children:["$".concat(e.cost," - ").concat(e.item)," ",Object(u.jsx)("button",{onClick:function(){return G(e.id)},children:"delete"})]},e.id)}))]})};var P=function(){var e=o(),t=(e.page,e.setPage,o()),n=t.loggedIn;return t.setLoggedIn,Object(u.jsx)("div",{children:n?Object(u.jsx)(B,{}):Object(u.jsx)(w,{})})};var z=function(){return Object(u.jsx)(j,{children:Object(u.jsx)(P,{})})};a.a.render(Object(u.jsx)(z,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.7ea124f5.chunk.js.map